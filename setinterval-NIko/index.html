<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<link rel="stylesheet" type="text/css" href="main.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Ubuntu" rel="stylesheet">
	</head>
	<body>

  	<div class="text">
    	<p> <h2>This is Lamaj.</h2></p>
      <img id="slideshow"  class="jamal" src="jamalmad.png"  name="image" />

      <div id="parent">
    	  <p>Lamaj</p> 
        <img id="heart"  src="https://media1.giphy.com/media/azi3GTPtxWKCQ/giphy.gif"><p>&apos;s</p>
        <p> Javascript.</p>
      </div >

      <p>He thinks Javascript is </p>
      <p id="makespace">
        <span class="word one">that-good-stuff.</span>
        <span class="word two">that-powerful-stuff.</span>
        <span class="word three"> that-addictive-stuff.</span>
        <span class="word four">that-beautiful-stuff.</span>
      </p>
  </div>

  <script type="text/javascript">
  
    var imageArray=["jamal.png","jamalfrown.png","jamalsurprise.png","jamalmad.png","jamalgrin.png", "jamalnorm.png" ];
    var index=0;
    function slideShow(){
      document["slideshow"].src = imageArray[index];
        index++;
        if(index>=imageArray.length){
        index=0;
        }
    }
    setInterval(slideShow,2000);

   	var words = document.getElementsByClassName('word');
    var wordArray = [];
    var currentWord = 0;

    words[currentWord].style.opacity = 1;
    for (var i = 0; i < words.length; i++) {
      letterSplitting(words[i]);
    }

    function changeWord() {
    var cw = wordArray[currentWord];
    var nw = currentWord == words.length-1 ? wordArray[0] : wordArray[currentWord+1];

    for (var i = 0; i < cw.length; i++) {
      animateLeavingLetter(cw, i);
    }
    
    for (var i = 0; i < nw.length; i++) {
      nw[i].className = 'letter behind';
      nw[0].parentElement.style.opacity = 1;
      animateComingLetter(nw, i);
    }
    
    currentWord = (currentWord == wordArray.length-1) ? 0 : currentWord+1;
  }

  function animateLeavingLetter(cw, i) {
    setTimeout(function() {
  		cw[i].className = 'letter out';
    }, i*80);
  }

  function animateComingLetter(nw, i) {
    setTimeout(function() {
  		nw[i].className = 'letter in';
    }, 340+(i*80));
  }

  function letterSplitting(word) {
    var content = word.innerHTML;
    word.innerHTML = '';
    var letters = [];
    for (var i = 0; i < content.length; i++) {
      var letter = document.createElement('span');
      letter.className = 'letter';
      letter.innerHTML = content.charAt(i);
      word.appendChild(letter);
      letters.push(letter);
    }
    
    wordArray.push(letters);
    console.log(letters);
  }

  changeWord();
  setInterval(changeWord, 5000);
   </script>


	</body>
</html>